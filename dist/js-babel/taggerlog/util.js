'use strict';var taggerlog=taggerlog||{};(function(a){function b(a){return a.originalEvent&&a.originalEvent.touches}function c(a){var c=a;return b(a)&&(c=a.originalEvent.touches[0]),c}a.util={},a.util.findAndRemove=function(a,b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)},a.util.logError=function(a){console.log(a)},a.util.logObject=function(a){console.log(JSON.stringify(a))},a.util.isTouch=b,a.util.getTouchInfo=c,$.fn.HoldButton=function(a,b,c){return this.each(function(){var d=$(this),f=null,g=!1;d.data("heldDown",!1),d.on("mousedown touchstart",function(){d.data("heldDown",!0),f=setTimeout(function(a){g=!0,b(a)},a,d)}).on("mouseup mouseleave touchend",function(a){var b=$(a.target);b.data("heldDown")&&(b.data("heldDown",!1),a.preventDefault(),!g&&c&&c(b),f&&clearTimeout(f),g=!1)})})},$.fn.Pullable=function(a,b,d){return this.each(function(){var f=$(this);f.addClass("pullable"),f.on("mousedown touchstart",function(b){f.data("pullStarted",!0),f.data("pullStartX",c(b).pageX),f.data("pullStartY",c(b).pageY),a&&a(b)}).on("mousemove touchmove",function(a){if((f.data("pullStarted")||f.data("beingPulled"))&&(f.data("pullStarted",!1),a.preventDefault(),b)){var d=c(a).pageX,e=c(a).pageY,g=d-f.data("pullStartX"),h=e-f.data("pullStartY"),i=f.data("pullX")||0,j=f.data("pullY")||0;(d-i||e-j)&&(f.data("beingPulled",!0),f.addClass("pullClick"),b(a,g,h)),f.data("pullX",d),f.data("pullY",e)}}).on("mouseup mouseleave",function(a){f.data("pullStarted",!1),f.data("beingPulled",!1),d&&d(a)}).on("touchend",function(a){f.data("pullStarted",!1),f.data("beingPulled",!1),f.removeClass("pullClick"),d&&d(a)}).on("click",function(){f.data("pullStarted",!1),f.data("beingPulled",!1),f.removeClass("pullClick")})})}})(taggerlog);